<table class="inventory-list-table">
    <thead
        style="position: sticky; top: 0; z-index: 10; background: var(--bg-panel); box-shadow: 0 1px 0 var(--border);">
        <tr>
            <th style="width: 40%;">Name</th>
            <th style="width: 20%;" class="hidable">vCenter</th>
            <th style="width: 25%;" class="hidable">Primary IP</th>
            <th style="width: 15%;" class="hidable">Status</th>
        </tr>
    </thead>
    <tbody>
        {% if vms %}
        {% for vm in vms %}
        <tr class="vm-row vc-color-{{ vm.vc_color_index }}" data-vcenter-id="{{ vm.vcenter_id }}"
            data-vm-id="{{ vm.id }}" hx-get="/api/inventory/vm-details/{{ vm.vcenter_id }}/{{ vm.id }}"
            hx-target="#vm-details-panel" hx-trigger="click">
            <td style="font-weight: 600; color: var(--text-main);">{{ vm.name }}</td>
            <td style="font-size: 0.75rem; color: var(--text-dim);" class="hidable">{{ vm.vcenter_name }}</td>
            <td style="font-family: monospace; font-size: 0.85rem;" class="hidable">{{ vm.ip or '--' }}</td>
            <td class="hidable">
                <span class="status-badge {{ 'success' if vm.power_state == 'poweredOn' else 'dim' }}"
                    style="font-size: 0.65rem;">
                    {{ 'ON' if vm.power_state == 'poweredOn' else 'OFF' }}
                </span>
            </td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="5" style="text-align: center; padding: 4rem; color: var(--text-dim);">
                No virtual machines found in cache.
            </td>
        </tr>
        {% endif %}
    </tbody>
</table>